# 170619\_Django\_instgram
## Valid

```
instance(object, classinfo)
```

object에 대한 classinfo 조건이 일치함을 알아본다.  
쉽게 말해 objects = 1 이면 1 의 클래스는 int 임으로 

```
instance(1, int) 
```
이 값은 True 로 나오게 된다.


### 127.0.0.8000 을 메인으로 띄우는 방법

* class-based View 중 RedirecView 를 사용하는 방법

	```
	url(r'^$', RedirecView.as_view(pattern_name='post:post_list'))
	```
	
* config의 views 에서 redirect 시키는 방법

	```
	url(r'^$', views.index, name='index')
	
	> config/views.py
	def index(request):
		return redirect('post:post_list')
	```


## PostForm 을 override해서 author 및 comment 채워넣기

```
def save(self, **kwargs):
# 키워드 인자를 받고
	commit = kwargs.get('commit', True)
	# 받은 인자 중 commit 키 값을 가져옴
	author = kwargs.pop('author', None)
	# 받은 인자 중 author 키 값을 가져오고, 해당 author 을 kwargs dict에서 제외시킨다.
	
	# commit 인수가 True 이면 commnet 필드가 채워져 있으면 Comment 생성한다.

	self.instance.author = author
	instance = super().save(**kwargs)
	# 위의 super().save() 를 실행해서 author 나 pk에 대한 검증이 끝난 상태
	comment_string = self.cleaned_data['comment']
	
	if commit and comment_string:
	# RelatedManager 를 이용해 Comment 객체를 생성 및 저장한다.
		instance.comment_set.create(
			author=instance.author,
			content=comment_string
		)
	return instance
	# ModelForm 의 save() 에서 반환해야 하는 model의 instance 리턴
```

